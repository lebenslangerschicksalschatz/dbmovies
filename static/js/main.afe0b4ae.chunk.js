(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{36:function(e,t,a){e.exports=a(67)},41:function(e,t,a){},42:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(30),c=a.n(r),l=(a(41),a(4)),i=a(5),o=a(7),m=a(6),u=a(8),d=(a(42),a(3)),h=a(13),g=a(17),v="https://api.themoviedb.org/3/search/movie",p="https://api.themoviedb.org/3/movie/",f="https://image.tmdb.org/t/p/",E="https://motivatevalmorgan.com/wp-content/uploads/2016/06/default-movie-300x450.jpg",_="?api_key=090028bc6de357f7dbfd5aeebae43718",w=function(e){return s.a.createElement("div",{className:"search-box"},s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("input",{onChange:e.handleChange,type:"text",placeholder:"What are you looking for?",minLength:3}),s.a.createElement("select",{className:"sort-box",defaultValue:"Sort",onChange:e.handleSort},s.a.createElement("option",{disabled:!0,value:"Sort"},"Sort"),s.a.createElement("option",{value:"Newest"},"Newest"),s.a.createElement("option",{value:"Oldest"},"Oldest"),s.a.createElement("option",{value:"RatingAsc"},"By Rating Asc"),s.a.createElement("option",{value:"RatingDesc"},"By Rating Desc"))))},b=function(e){return s.a.createElement("div",{className:"movie"},null===e.image?s.a.createElement("img",{className:"movie__pic",src:E,alt:"Movie Poster"}):s.a.createElement("img",{className:"movie__pic",src:"".concat(f+"w185/"+e.image),alt:"Movie Poster"}),s.a.createElement("div",{className:"movie__overlay"},0===e.voteAverage?"":s.a.createElement("div",{className:"movie__rating"},s.a.createElement("svg",{viewBox:"0 0 36 36",className:"circular-chart"},s.a.createElement("path",{className:"circle-bg",d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831"}),s.a.createElement("path",{className:"circle",strokeDasharray:"78, 100",d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831"}),s.a.createElement("text",{x:"18",y:"21.5",className:"percentage"},e.voteAverage))),s.a.createElement("div",{className:"movie__info"},s.a.createElement("h3",{className:"movie__title"},e.title),void 0===e.release_date?"":s.a.createElement("div",{className:"movie__date"},s.a.createElement("span",null,"Release Date: ",e.release_date.substring(0,4))))))},N=function(e){return s.a.createElement("div",{className:"movies__list"},e.movies.map((function(t){return s.a.createElement(d.b,{key:t.id,to:"/movie/".concat(t.id)},s.a.createElement(b,{key:t.id,image:t.poster_path,title:t.title,voteAverage:t.vote_average,release_date:t.release_date,movies:e.movies}))})))},S=function(e){for(var t=[],a=function(a){var n=e.currentPage===a?"activePage":"";t.push(s.a.createElement("li",{className:"pages__number ".concat(n),key:a,onClick:function(){return e.nextPage(a)}},s.a.createElement("button",null,a)))},n=1;n<=e.pages;n++)a(n);return s.a.createElement("ul",{className:"pages"},e.currentPage>1?s.a.createElement("li",{className:"pages__number pages__arrow",onClick:function(){return e.nextPage(e.currentPage-1)}},s.a.createElement("button",null,s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"angle-double-left",role:"img",viewBox:"0 0 448 512"},s.a.createElement("path",{fill:"currentColor",d:"M223.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L319.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L393.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34zm-192 34l136 136c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9L127.9 256l96.4-96.4c9.4-9.4 9.4-24.6 0-33.9L201.7 103c-9.4-9.4-24.6-9.4-33.9 0l-136 136c-9.5 9.4-9.5 24.6-.1 34z"})))):"",t,e.currentPage<e.pages?s.a.createElement("li",{className:"pages__number pages__arrow",onClick:function(){return e.nextPage(e.currentPage+1)}},s.a.createElement("button",null,s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"angle-double-right",role:"img",viewBox:"0 0 448 512"},s.a.createElement("path",{fill:"currentColor",d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z"})))):"")},y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({searchTerm:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t=e.target;fetch("".concat("https://api.themoviedb.org/3/search/movie?api_key=090028bc6de357f7dbfd5aeebae43718","&query=").concat(a.state.searchTerm)).then((function(e){return e.json()})).then((function(e){a.setState({movies:Object(g.a)(e.results),totalPages:e.total_pages,totalResults:e.total_results}),t.reset(),console.log(e)}))},a.nextPage=function(e){fetch("".concat("https://api.themoviedb.org/3/search/movie?api_key=090028bc6de357f7dbfd5aeebae43718","&query=").concat(a.state.searchTerm,"&page=").concat(e)).then((function(e){return e.json()})).then((function(t){a.setState({movies:Object(g.a)(t.results),currentPage:e})}))},a.handleSort=function(e){a.setState({sort:e.target.value})},a.state={movies:[],searchTerm:"",totalPages:0,totalResults:0,currentPage:1,sort:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.totalPages,a=this.state.movies.sort((function(t,a){return"Newest"===e.state.sort?parseInt(a.release_date)-parseInt(t.release_date):"Oldest"===e.state.sort?parseInt(t.release_date)-parseInt(a.release_date):"RatingAsc"===e.state.sort?t.vote_average-a.vote_average:"RatingDesc"===e.state.sort?a.vote_average-t.vote_average:void 0}));return s.a.createElement("div",{className:"movies"},s.a.createElement(w,{searchTerm:this.state.searchTerm,handleSubmit:this.handleSubmit,handleChange:this.handleChange,handleSort:this.handleSort}),s.a.createElement(N,{movies:a}),this.state.totalResults>20?s.a.createElement(S,{pages:t,nextPage:this.nextPage,currentPage:this.state.currentPage}):null)}}]),t}(s.a.Component),x=a(15),I=a(33),O=a.n(I),j=a(34),k=a.n(j),C=function(e){return e.title},L=function(e){return s.a.createElement("div",{className:"suggestion"},s.a.createElement("div",{className:"suggestion__pic"},null!==e.poster_path?s.a.createElement("img",{src:f+"w45/"+e.poster_path,alt:"Movie Poster"}):s.a.createElement("img",{src:E,alt:"Movie Poster"})),s.a.createElement("div",{className:"suggestion__content"},s.a.createElement("h3",{className:"suggestion__title"},e.title),s.a.createElement("span",null,""===e.release_date||void 0===e.release_date?"":e.release_date.substring(0,4))))},A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).getSuggestions=function(e){var t=encodeURIComponent(e.trim()),n="".concat(v+_,"&query=").concat(t),s=[];a.setState({isLoading:!0}),e.trim().length>2&&fetch(n).then((function(e){return e.json()})).then((function(e){e.results?(s=e.results,a.setState({suggestions:s,noResults:0===s.length,isLoading:!1})):a.setState({suggestions:[],noResults:!0,isLoading:!1})}),(function(e){console.log(e.Error),a.setState({suggestions:[],noResults:!1,isLoading:!1})}))},a.onChange=function(e,t){var n=t.newValue;a.setState({value:n})},a.debouncedSuggestions=k()((function(e){a.getSuggestions(e)}),500),a.onSuggestionsFetchRequested=function(e){var t=e.value;a.setState({isLoading:!0}),a.debouncedSuggestions(t)},a.onSuggestionsClearRequested=function(){a.setState({suggestions:[],noResults:!1,isLoading:!1})},a.onSuggestionSelected=function(e,t){var n=t.suggestion;t.suggestionValue,t.suggestionIndex,t.sectionIndex,t.method;a.setState({suggestions:[],value:"",noResults:!1,isLoading:!1}),a.props.addWatchlistItem(n)},a.state={value:"",suggestions:[],noResult:!1,isLoading:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.value,a=e.suggestions,n=e.noResults,r=e.isLoading,c={placeholder:"type in something...",value:t,onChange:this.onChange,id:"watchlist-suggest-input"};return s.a.createElement("div",{className:"watchlist-input"},s.a.createElement("label",{className:"watchlist-input__label",htmlFor:"watchlist-suggest-input"},"Search to add Movies to your Watchlist:"),s.a.createElement("div",{className:"watchlist-input__control"},r?s.a.createElement("div",{className:"watchlist-input__loader"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"spinner",role:"img",viewBox:"0 0 512 512"},s.a.createElement("path",{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}))):"",s.a.createElement(O.a,{suggestions:a.slice(0,10),onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionSelected,getSuggestionValue:C,renderSuggestion:L,inputProps:c,focusInputOnSuggestionClick:!1}),n?s.a.createElement("div",{className:"no-suggestions"},"Sorry, no results :("):null))}}]),t}(n.Component),M=a(1),R=a(16),z=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{tabIndex:"0",className:"list-item "+(this.props.completed?"seen-item":"up-next-item"),"aria-label":this.props.completed?"Watched: ":"Up Next: "},s.a.createElement("div",{className:"list-item__wrap"},s.a.createElement("div",{className:"list-item__pic"},0===this.props.watchlistItem.vote_average?null:s.a.createElement("div",{className:"movie__rating movie__rating_watchlist"},s.a.createElement("svg",{viewBox:"0 0 36 36",className:"circular-chart circular-chart_watchlist"},s.a.createElement("path",{className:"circle-bg circle-bg_watchlist",d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831"}),s.a.createElement("path",{className:"circle circle_watchlist",strokeDasharray:"78, 100",d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831"}),s.a.createElement("text",{x:"18",y:"21.5",className:"percentage percentage_watchlist"},this.props.watchlistItem.vote_average))),null!==this.props.watchlistItem.poster_path?s.a.createElement("img",{src:f+"w185/"+this.props.watchlistItem.poster_path,alt:"Movie Poster"}):s.a.createElement("img",{src:E,alt:"Movie Poster"}),s.a.createElement(d.b,{className:"list-item__detail",to:"/movie/".concat(this.props.watchlistItem.id)},s.a.createElement("span",null,"Details")),s.a.createElement("div",{className:"list-item__text"},s.a.createElement("h3",{className:"list-item__title"},this.props.watchlistItem.title),void 0!==this.props.watchlistItem.release_date?s.a.createElement("span",{className:"list-item__date"},this.props.watchlistItem.release_date.substring(0,4)):"")),s.a.createElement("div",{className:"list-item__btns"},this.props.completed?s.a.createElement("button",{className:"resetItem",onClick:this.props.handleReset,title:"Return to Watch List"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"eye-slash",role:"img",viewBox:"0 0 640 512"},s.a.createElement("path",{fill:"currentColor",d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}))):s.a.createElement("button",{className:"checkItem",onClick:this.props.handleComplete,title:"Mark as Watched"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"eye",role:"img",viewBox:"0 0 576 512"},s.a.createElement("path",{fill:"currentColor",d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}))),s.a.createElement("button",{className:"deleteItem",onClick:this.props.handleClose,title:"Click to delete"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"trash",role:"img",viewBox:"0 0 448 512"},s.a.createElement("path",{fill:"currentColor",d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}))))))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleClose=a.handleClose.bind(Object(R.a)(a)),a.handleComplete=a.handleComplete.bind(Object(R.a)(a)),a.handleReset=a.handleReset.bind(Object(R.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleComplete",value:function(e,t){this.props.updateWatchlistItemStatus(t,!0)}},{key:"handleReset",value:function(e,t){this.props.updateWatchlistItemStatus(t,!1)}},{key:"handleClose",value:function(e,t){this.props.removeWatchlistItem(t)}},{key:"getLists",value:function(){var e=this,t=this.props.listItems,a=[],n=[];return t.forEach((function(t){var r=s.a.createElement(z,{key:t.id,completed:t.completed,watchlistItem:t.watchlistItem,handleClose:function(a){return e.handleClose(a,t.id)},handleReset:function(a){return e.handleReset(a,t.id)},handleComplete:function(a){return e.handleComplete(a,t.id)}});t.completed?n.push(r):a.push(r)})),[a,n]}},{key:"render",value:function(){var e,t=this.getLists(),a=Object(M.a)(t,2),n=a[0],r=a[1];e=n.length>0?s.a.createElement("div",{className:"toWatch"},n):s.a.createElement("div",{className:"watchlist__empty"},s.a.createElement("span",null,"how come your watchlist is empty?"));var c=s.a.createElement("div",{className:"seen"},s.a.createElement(d.b,{className:"seen__title",to:"/AlreadySeen"},"Already Seen"),s.a.createElement("div",{className:"seen__list"},r));return s.a.createElement("div",{className:"watchlist__wrap"},e,r.length>0&&c)}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).canAccessLocalStorage=!1,a.canAccessLocalStorage=a.checkLocalStorage(),a.state={watchlistArray:a.getWatchlistStorage(),nextID:a.getNextIDStorage()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"checkLocalStorage",value:function(){try{return localStorage.setItem("watchlist_test","test"),localStorage.removeItem("watchlist_test"),!0}catch(e){return this.storageError=!0,!1}}},{key:"getWatchlistStorage",value:function(){return this.canAccessLocalStorage&&JSON.parse(localStorage.getItem("list"))||[]}},{key:"getNextIDStorage",value:function(){return this.canAccessLocalStorage&&parseInt(localStorage.getItem("nextid"),10)||0}},{key:"updateStorage",value:function(e,t){this.canAccessLocalStorage&&(localStorage.setItem("list",JSON.stringify(e)),localStorage.setItem("nextid",t))}},{key:"checkDuplicateID",value:function(e){return this.state.watchlistArray.filter((function(t){return t.watchlistItem.id===e})).length}},{key:"addWatchlistItem",value:function(e){var t=parseInt(this.state.nextID,10)+1;if(!this.checkDuplicateID(e.id)){var a=[{id:t,watchlistItem:e,completed:!1}].concat(this.state.watchlistArray);this.setState({watchlistArray:a,nextID:t}),this.updateStorage(a,t)}}},{key:"removeWatchlistItem",value:function(e){var t=this.state.watchlistArray.filter((function(t){return t.id!==e}));this.setState({watchlistArray:t}),this.updateStorage(t,this.state.nextID)}},{key:"updateWatchlistItemStatus",value:function(e,t){var a=this.state.watchlistArray.slice(0).map((function(a){return a.id!==e?a:Object(x.a)({},a,{completed:t})}));this.setState({watchlistArray:a}),this.updateStorage(a,this.state.nextID)}},{key:"render",value:function(){var e=this,t=this.state.watchlistArray;return console.log(t),s.a.createElement("div",{className:"watchlist"},s.a.createElement("h2",{className:"watchlist__title"},"watchlist"),s.a.createElement(A,{addWatchlistItem:function(t){return e.addWatchlistItem(t)}}),this.canAccessLocalStorage?s.a.createElement(P,{listItems:t,removeWatchlistItem:function(t){return e.removeWatchlistItem(t)},updateWatchlistItemStatus:function(t,a){return e.updateWatchlistItemStatus(t,a)}}):s.a.createElement("div",{id:"storageError"},"Unable to access LocalStorage."))}}]),t}(n.Component),B=a(35),D=function(e){var t=e.selected,a=void 0!==t&&t,n=e.onClick,r=void 0===n?function(e){return e}:n;return s.a.createElement("div",{className:a?"star selected":"star",onClick:r},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"star",role:"img",viewBox:"0 0 576 512"},s.a.createElement("path",{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"})))},T=function(e){var t=e.totalStars,a=Object(n.useState)(0),r=Object(M.a)(a,2),c=r[0],l=r[1];return s.a.createElement("div",{className:"star-rating"},s.a.createElement("h3",{className:"star-rating__title"},"Rate This",s.a.createElement("span",null,"(",c," out of ",t,")")),s.a.createElement("div",{className:"star-rating__stars"},Object(g.a)(Array(t)).map((function(e,t){return s.a.createElement(D,{key:t,selected:t<c,onClick:function(){return l(t+1)}})}))))};var q=function(e){var t=Object(n.useState)(!1),a=Object(M.a)(t,2),s=a[0],r=a[1];function c(t){t.key===e&&r(!0)}var l=function(t){t.key===e&&r(!1)};return Object(n.useEffect)((function(){return window.addEventListener("keydown",c),window.addEventListener("keyup",l),function(){window.removeEventListener("keydown",c),window.removeEventListener("keyup",l)}}),[]),s};var H=function(e,t){Object(n.useEffect)((function(){var a=function(a){e.current&&!e.current.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t])};var J=function(e){var t=Object(n.useState)(!1),a=Object(M.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(e.text),i=Object(M.a)(l,2),o=i[0],m=i[1],u=Object(n.useRef)(null),d=Object(n.useRef)(null),h=Object(n.useRef)(null),g=q("Enter");return H(u,(function(){r&&(m(o),c(!1))})),Object(n.useEffect)((function(){r&&h.current.focus()}),[r]),Object(n.useEffect)((function(){r&&g&&(m(o),c(!1))}),[g]),s.a.createElement("div",{className:"user-note",ref:u},s.a.createElement("span",{ref:d,onClick:function(){return c(!0)},className:"user-note__copy user-note__copy_".concat(r?"hidden":"active")},o),s.a.createElement("textarea",{ref:h,onChange:function(e){m(e.target.value)},className:"user-note__input user-note__input_".concat(r?"active":"hidden"),placeholder:"Click to enter your thoughts!"}))};var F=function(){try{return localStorage.setItem("watchlist_test","test"),localStorage.removeItem("watchlist_test"),!0}catch(e){return!1}}(),U=function(e){Object(B.a)(e);var t=Object(n.useState)(F&&JSON.parse(localStorage.getItem("list"))||[]),a=Object(M.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(F&&parseInt(localStorage.getItem("nextid"),10)||0),i=Object(M.a)(l,2),o=i[0];i[1];function m(e,t){F&&(localStorage.setItem("list",JSON.stringify(e)),localStorage.setItem("nextid",t))}var u=function(){var e=[];return r.forEach((function(t){t.completed&&e.push(t)})),e}(),h=Object(n.useState)("Click to enter your thoughts!"),g=Object(M.a)(h,2),v=g[0],p=g[1];return F?s.a.createElement("div",{className:"seenlist"},s.a.createElement("h2",{className:"seenlist__title"},"ALREADY SEEN LIST"),s.a.createElement("div",{className:"seenlist__items"},u.map((function(e){return s.a.createElement("div",{className:"seenlist-item",key:e.watchlistItem.id},s.a.createElement("div",{className:"seenlist-item__left"},s.a.createElement("div",{className:"seenlist-item__pic"},0===e.watchlistItem.vote_average?null:s.a.createElement("div",{className:"movie__rating movie__rating_seenlist"},s.a.createElement("svg",{viewBox:"0 0 36 36",className:"circular-chart circular-chart_seenlist"},s.a.createElement("path",{className:"circle-bg circle-bg_seenlist",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),s.a.createElement("path",{className:"circle circle_seenlist",strokeDasharray:"78, 100",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),s.a.createElement("text",{x:"18",y:"21.5",className:"percentage percentage_seenlist"},e.watchlistItem.vote_average))),null!==e.watchlistItem.poster_path?s.a.createElement("img",{src:f+"w185/"+e.watchlistItem.poster_path,alt:"Movie Poster"}):s.a.createElement("img",{src:E,alt:"Movie Poster"}),s.a.createElement(d.b,{className:"seenlist-item__detail",to:"/movie/".concat(e.watchlistItem.id)},s.a.createElement("span",null,"Details")),s.a.createElement("div",{className:"seenlist-item__text"},s.a.createElement("h3",{className:"seenlist-item__title"},e.watchlistItem.title),void 0!==e.watchlistItem.release_date?s.a.createElement("span",{className:"seenlist-item__date"},e.watchlistItem.release_date.substring(0,4)):null)),s.a.createElement("div",{className:"seenlist-item__btns"},s.a.createElement("button",{className:"resetItem",onClick:function(t){return function(e,t){var a=r.map((function(a){return a.watchlistItem.id!==e?a:Object(x.a)({},a,{completed:t})}));c(a),m(a,o)}(e.watchlistItem.id,!1)},title:"Return to Watch List"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"eye-slash",role:"img",viewBox:"0 0 640 512"},s.a.createElement("path",{fill:"currentColor",d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}))),s.a.createElement("button",{className:"deleteItem",onClick:function(t){return function(e){var t=r.filter((function(t){return t.watchlistItem.id!==e}));c(t),m(t,o)}(e.watchlistItem.id)},title:"Click to delete"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"trash",role:"img",viewBox:"0 0 448 512"},s.a.createElement("path",{fill:"currentColor",d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}))))),s.a.createElement("div",{className:"seenlist-item__right"},s.a.createElement(T,{totalStars:10}),s.a.createElement(J,{text:v,onSetText:function(e){return p(e)}})))})))):s.a.createElement("div",{id:"storageError"},"Unable to access LocalStorage.")},V=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h2",null,"TOP 250"),s.a.createElement("p",null,"Cras facilisis urna ornare ex volutpat, et convallis erat elementum. Ut aliquam, ipsum vitae gravida suscipit, metus dui bibendum est, eget rhoncus nibh metus nec massa. Maecenas hendrerit laoreet augue nec molestie. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."))}}]),t}(s.a.Component),Y=a(18),$=a.n(Y),G=a(23);var K=function(){try{return localStorage.setItem("watchlist_test","test"),localStorage.removeItem("watchlist_test"),!0}catch(e){return!1}}(),Q=function(e){var t=e.match;Object(n.useEffect)((function(){E(),w()}),[]);var a=Object(n.useState)({}),r=Object(M.a)(a,2),c=r[0],l=r[1],i=Object(n.useState)({}),o=Object(M.a)(i,2),m=o[0],u=o[1],d=Object(n.useState)({isLoading:!1}),h=Object(M.a)(d,2),g=h[0],v=h[1],E=function(){var e=Object(G.a)($.a.mark((function e(){var a,n,s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p+t.params.id+_,v(!0),e.next=4,fetch("".concat(a));case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,l(s),console.log(s),v(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(G.a)($.a.mark((function e(){var a,n,s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p+t.params.id+"/videos"+_,v(!0),e.next=4,fetch("".concat(a));case 4:return n=e.sent,e.next=7,n.json();case 7:if(!((s=e.sent).results<1)){e.next=12;break}return e.abrupt("return",!1);case 12:u(s);case 13:v(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var b=Object(n.useState)(K&&JSON.parse(localStorage.getItem("list"))||[]),N=Object(M.a)(b,2),S=N[0],y=N[1],I=Object(n.useState)(K&&parseInt(localStorage.getItem("nextid"),10)||0),O=Object(M.a)(I,2),j=O[0],k=O[1];function C(e,t){K&&(localStorage.setItem("list",JSON.stringify(e)),localStorage.setItem("nextid",t))}function L(e){return S.some((function(t){return t.watchlistItem.id===e}))}function A(e){return S.filter((function(t){return t.watchlistItem.id===e})).some((function(e){return!0===e.completed}))}function R(e){var t=S.filter((function(t){return t.watchlistItem.id!==e}));y(t),C(t,j)}function z(e,t){var a=S.map((function(a){return a.watchlistItem.id!==e?a:Object(x.a)({},a,{completed:t})}));y(a),C(a,j),console.log(a)}return K?g?s.a.createElement("h1",null,"Loading.."):s.a.createElement(s.a.Fragment,null,null===c.backdrop_path?s.a.createElement("img",{className:"backdrop",src:"/img/default_backdrop.jpg",alt:"Background"}):s.a.createElement("img",{className:"backdrop",src:"https://image.tmdb.org/t/p/original"+c.backdrop_path,alt:"Background"}),s.a.createElement("div",{className:"movie-d"},s.a.createElement("div",{className:"movie-d__info"},s.a.createElement("h3",{className:"movie-d__title"},c.title),c.genres&&c.genres.map((function(e){return s.a.createElement("span",{className:"movie-d__genre",key:e.name},"#",e.name)})),0===c.vote_average?"":s.a.createElement("div",{className:"movie__rating movie__rating_detail"},s.a.createElement("svg",{viewBox:"0 0 36 36",className:"circular-chart circular-chart_detail"},s.a.createElement("path",{className:"circle-bg",d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831"}),s.a.createElement("path",{className:"circle circle_detail",strokeDasharray:"78, 100",d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831"}),s.a.createElement("text",{x:"18",y:"21.5",className:"percentage"},c.vote_average)))),s.a.createElement("div",{className:"movie-d__content"},s.a.createElement("div",{className:"movie-d__pic"},null===c.poster_path?s.a.createElement("img",{src:"https://motivatevalmorgan.com/wp-content/uploads/2016/06/default-movie-300x450.jpg",alt:"Movie Poster"}):s.a.createElement("img",{src:"".concat(f+"w342/"+c.poster_path),alt:"Movie Poster"}),s.a.createElement("div",{className:"movie-d__btns"},L(c.id)&&!A(c.id)?s.a.createElement("button",{className:"fromWatchlist",onClick:function(e){return R(c.id)},title:"Remove from the watchlist"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"heart",role:"img",viewBox:"0 0 512 512"},s.a.createElement("path",{fill:"currentColor",d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}))):s.a.createElement("button",{className:"toWatchlist",onClick:function(e){return function(e){var t=Number(j)+1;if(L(e.id))A(e.id)&&z(e.id,!1);else{var a=[{id:t,watchlistItem:e,completed:!1}].concat(S);y(a),k(t),C(a,t)}}(c)},title:"Add to your watchlist"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"heart",role:"img",viewBox:"0 0 512 512"},s.a.createElement("path",{fill:"currentColor",d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}))),A(c.id)?s.a.createElement("button",{className:"fromSeen",onClick:function(e){return R(c.id)},title:"Click if haven't seen yet"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"eye",role:"img",viewBox:"0 0 576 512"},s.a.createElement("path",{fill:"currentColor",d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}))):s.a.createElement("button",{className:"toSeen",onClick:function(e){return function(e){var t=Number(j)+1;if(L(e.id))z(e.id,!0);else{var a=[{id:t,watchlistItem:e,completed:!0}].concat(S);y(a),k(t),C(a,t)}}(c)},title:"Mark as watched"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"eye-slash",role:"img",viewBox:"0 0 640 512"},s.a.createElement("path",{fill:"currentColor",d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}))))),function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(m)?s.a.createElement("div",null,"No Trailer"):s.a.createElement("div",{className:"movie-d__vid"},s.a.createElement("iframe",{title:"https://www.youtube.com/embed/"+m.results[0].key,src:"https://www.youtube.com/embed/"+m.results[0].key})))),s.a.createElement("div",{className:"movie-d__overlay"})):s.a.createElement("div",{id:"storageError"},"Unable to access LocalStorage.")},X=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,null,s.a.createElement("header",{className:"header"},s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"header__logo"},s.a.createElement(d.c,{exact:!0,to:"/"},s.a.createElement("img",{src:"./img/main_logo.png",alt:"Main Logo"}))),s.a.createElement("nav",{className:"nav"},s.a.createElement("ul",{className:"nav__list"},s.a.createElement("li",{className:"nav__item"},s.a.createElement(d.c,{exact:!0,to:"/"},"Home")),s.a.createElement("li",{className:"nav__item"},s.a.createElement(d.c,{to:"/Watchlist"},"Watchlist")),s.a.createElement("li",{className:"nav__item"},s.a.createElement(d.c,{to:"/AlreadySeen"},"Already Seen")),s.a.createElement("li",{className:"nav__item"},s.a.createElement(d.c,{to:"/Top250"},"Top250")))))),s.a.createElement("main",{className:"main"},s.a.createElement("div",{className:"wrapper"},s.a.createElement(h.a,{exact:!0,path:"/",component:y}),s.a.createElement(h.a,{path:"/Watchlist",component:W}),s.a.createElement(h.a,{path:"/AlreadySeen",component:U}),s.a.createElement(h.a,{path:"/Top250",component:V}),s.a.createElement(h.a,{path:"/Movie/:id",component:Q})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.afe0b4ae.chunk.js.map